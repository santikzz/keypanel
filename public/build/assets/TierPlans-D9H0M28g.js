import{K as p,r as m,j as s,t as C,S as c}from"./app-B68unpnA.js";import{B as d,t as r}from"./button-Dq8rg1KY.js";import{C as y,a as b,b as S,e as P}from"./card-Dy29MdYu.js";import{L as o}from"./label-BkFwQTOA.js";import{C as E,a as w,b as v}from"./collapsible-C0OtUaUW.js";import{C as x}from"./index-2pv0rK-r.js";import{V as a}from"./index-BhF2YPkm.js";import{C as M}from"./chevron-down-FeGasUQz.js";import"./index-BTTXnc4F.js";import"./index-D3J-_YOi.js";import"./createLucideIcon-B5Yzhiw4.js";function T({plans:l}){p().props.auth.user;const[n,u]=m.useState({}),[i,f]=m.useState(),h=e=>{if(n[e])try{const t=JSON.parse(n[e]);c.put(route("plans.update",{plan:e}),t,{onSuccess:()=>{a.success("Plan updated successfully",{style:r})},onError:()=>{a.error("Error updating plan",{style:r})}})}catch(t){console.error("Error parsing JSON",t),a.error("Error parsing JSON",{style:r})}},j=()=>{if(i)try{const e=JSON.parse(i);c.post(route("plans.store"),e,{onSuccess:()=>{a.success("Plan created successfully",{style:r})},onError:()=>{a.error("Error creating plan",{style:r})}})}catch(e){console.error("Error parsing JSON",e),a.error("Error parsing JSON",{style:r})}},g=e=>{c.delete(route("plans.delete",{plan:e}),{onSuccess:()=>{a.success("Plan deleted successfully",{style:r})},onError:()=>{a.error("Error deleting plan",{style:r})}})};return s.jsxs(y,{children:[s.jsx(b,{children:s.jsx(o,{className:"text-xl",children:"Plans"})}),s.jsx(S,{children:s.jsx(C,{data:"plans",fallback:s.jsx("div",{children:"Loading plans..."}),children:s.jsxs("div",{className:"flex flex-col gap-4",children:[!l&&s.jsx(o,{className:"text-red-500",children:"No plans found."}),l==null?void 0:l.map((e,t)=>s.jsxs(E,{className:"p-2 border rounded-md bg-zinc-900",children:[s.jsxs(w,{className:"flex flex-row justify-between w-full items-center",children:[s.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[s.jsxs(o,{children:["ID: ",s.jsx("span",{className:"text-indigo-300",children:e==null?void 0:e.id})]}),s.jsxs(o,{children:["NAME: ",s.jsx("span",{className:"text-indigo-300",children:e==null?void 0:e.name})]}),s.jsxs(o,{children:["PRICE: ",s.jsx("span",{className:"text-indigo-300",children:e==null?void 0:e.price})]}),s.jsxs(o,{children:["PAYPAL PLAN ID: ",s.jsx("span",{className:"text-indigo-300",children:e==null?void 0:e.paypal_plan_id})]})]}),s.jsx(M,{})]}),s.jsxs(v,{className:"bg-zinc-950 p-2 border rounded-md mt-2",children:[s.jsx(x,{"data-color-mode":"dark",value:JSON.stringify(e,null,2),onChange:N=>u({...n,[e.id]:N.target.value}),language:"json",padding:15,style:{fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}}),s.jsxs("div",{className:"mt-2 gap-2 flex flex-row justify-between",children:[s.jsx(d,{className:"btn-success",size:"sm",onClick:()=>h(e==null?void 0:e.id),children:"Update"}),s.jsx(d,{className:"btn-danger",size:"sm",onClick:()=>g(e==null?void 0:e.id),children:"Delete"})]})]})]},t))]})})}),s.jsxs(P,{className:"border-t flex-col items-start gap-4",children:[s.jsxs("div",{className:"mt-4 gap-4 flex flex-col flex-1 w-full",children:[s.jsx(o,{className:"text-xl",children:"Create new plan"}),s.jsx(x,{className:"h-80","data-color-mode":"dark",value:i,onChange:e=>f(e.target.value),language:"json",padding:15,style:{fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}})]}),s.jsx("div",{className:"mt-2 gap-2 flex flex-row justify-between",children:s.jsx(d,{className:"btn-success",size:"sm",onClick:j,children:"Create"})})]})]})}export{T as TierPlans};
