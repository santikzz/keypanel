import{R as g,j as e,S as R,A as y,r as m,L}from"./app-DKWs_x5Z.js";import{C as M,A as U}from"./AuthenticatedLayout-Bot-l-0k.js";import{T as B,a as _,b as w,c as N}from"./tabs-CMPToHv6.js";import{u as V,f as x,g as k,a as F,b as P,c as T,A as r}from"./index-BFHSrzb6.js";import{B as a}from"./button-BBVxp3VG.js";import{I}from"./input-BYucJOCc.js";import{T as z,a as D,b as n,c as K,d as A,e as u}from"./table-D3XQ7IVO.js";import{CreateManagerDialog as E}from"./CreateManagerDialog-JAfuZ9ON.js";import{L as H}from"./loader-circle-BMJiuLLN.js";import{CreateResellerDialog as Y}from"./CreateResellerDialog-CsDrbSAK.js";import"./index-DA5hq8gi.js";import"./index-C45_0ZpX.js";import"./index-wlnfFIQr.js";import"./index-CPXKoCIL.js";import"./index-B3cBOV19.js";import"./index-74moIMez.js";import"./index-Bu-sbKy8.js";import"./createLucideIcon-C2KaOfTx.js";import"./check-BL4S7oMV.js";import"./x-Bh79YJJK.js";import"./package-BmyxZemD.js";import"./index-DcErGX4Z.js";import"./form-DHfdpuqw.js";import"./label-cgqnJ9ek.js";import"./dialog-D2kVpHuT.js";import"./checkbox-BgTQkEYg.js";import"./index-DDDKXsnM.js";import"./plus-BDIDAAHD.js";import"./refresh-ccw-DHFAbUKa.js";function q({managers:o}){var c,d;const i=[{accessorKey:"name",header:({column:s})=>e.jsxs(a,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[e.jsx(r,{}),"Username"]}),cell:({row:s})=>e.jsx("div",{className:"",children:s.getValue("name")})},{accessorKey:"disabled",header:({column:s})=>e.jsxs(a,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[e.jsx(r,{}),"Disabled"]}),cell:({row:s})=>e.jsx("div",{children:s.getValue("disabled")=="1"?"Yes":"No"})},{id:"actions",enableHiding:!1,cell:({row:s})=>e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{className:"text-zinc-600"})})}],[h,j]=g.useState([]),[p,C]=g.useState([]),[v,f]=g.useState({}),[b,S]=g.useState({}),t=V({data:o||[],columns:i,onSortingChange:j,onColumnFiltersChange:C,getCoreRowModel:T(),getPaginationRowModel:P(),getSortedRowModel:F(),getFilteredRowModel:k(),onColumnVisibilityChange:f,onRowSelectionChange:S,state:{sorting:h,columnFilters:p,columnVisibility:v,rowSelection:b}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center py-4 gap-4",children:[e.jsx(E,{}),e.jsx(I,{placeholder:"Search...",value:((c=t.getColumn("name"))==null?void 0:c.getFilterValue())??"",onChange:s=>{var l;return(l=t.getColumn("name"))==null?void 0:l.setFilterValue(s.target.value)},className:"max-w-sm"})]}),e.jsx("div",{className:"bg-zinc-950 rounded-md border",children:e.jsxs(z,{children:[e.jsx(D,{children:t.getHeaderGroups().map(s=>e.jsx(n,{children:s.headers.map(l=>e.jsx(K,{children:l.isPlaceholder?null:x(l.column.columnDef.header,l.getContext())},l.id))},s.id))}),e.jsx(A,{children:(d=t.getRowModel().rows)!=null&&d.length?t.getRowModel().rows.map(s=>e.jsx(n,{"data-state":s.getIsSelected()&&"selected",className:"cursor-pointer",onClick:()=>R.visit(route("users.showManager",s.original.id)),children:s.getVisibleCells().map(l=>e.jsx(u,{children:x(l.column.columnDef.cell,l.getContext())},l.id))},s.id)):e.jsx(n,{children:e.jsx(u,{colSpan:i.length,className:"h-24 text-center",children:e.jsx(y,{data:"managers",fallback:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(H,{className:"animate-spin text-indigo-700",size:32})}),children:"No results"})})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[t.getFilteredSelectedRowModel().rows.length," of"," ",t.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"Previous"}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:"Next"})]})]})]})})}function G({resellers:o}){var c,d;const i=[{accessorKey:"name",header:({column:s})=>e.jsxs(a,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[e.jsx(r,{}),"Username"]}),cell:({row:s})=>e.jsx("div",{children:s.getValue("name")})},{accessorKey:"created_keys",header:({column:s})=>e.jsxs(a,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[e.jsx(r,{}),"Keys created"]}),cell:({row:s})=>e.jsxs("div",{children:[s.getValue("created_keys")," keys"]})},{accessorKey:"apps_count",header:({column:s})=>e.jsxs(a,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[e.jsx(r,{}),"Apps access"]}),cell:({row:s})=>e.jsx("div",{children:s.getValue("apps_count")})},{accessorKey:"balance",header:({column:s})=>e.jsxs(a,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[e.jsx(r,{}),"Balance"]}),cell:({row:s})=>e.jsxs("div",{children:[s.getValue("balance")," credits"]})},{accessorKey:"disabled",header:({column:s})=>e.jsxs(a,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[e.jsx(r,{}),"Disabled"]}),cell:({row:s})=>e.jsx("div",{children:s.getValue("disabled")?"Yes":"No"})},{id:"actions",enableHiding:!1,cell:({row:s})=>e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{className:"text-zinc-600"})})}],[h,j]=m.useState([]),[p,C]=m.useState([]),[v,f]=m.useState({}),[b,S]=m.useState({}),t=V({data:o||[],columns:i,onSortingChange:j,onColumnFiltersChange:C,getCoreRowModel:T(),getPaginationRowModel:P(),getSortedRowModel:F(),getFilteredRowModel:k(),onColumnVisibilityChange:f,onRowSelectionChange:S,state:{sorting:h,columnFilters:p,columnVisibility:v,rowSelection:b}});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center py-4 gap-4",children:[e.jsx(Y,{}),e.jsx(I,{placeholder:"Search...",value:((c=t.getColumn("name"))==null?void 0:c.getFilterValue())??"",onChange:s=>{var l;return(l=t.getColumn("name"))==null?void 0:l.setFilterValue(s.target.value)},className:"max-w-sm"})]}),e.jsx("div",{className:"bg-zinc-950 rounded-md border",children:e.jsxs(z,{children:[e.jsx(D,{children:t.getHeaderGroups().map(s=>e.jsx(n,{children:s.headers.map(l=>e.jsx(K,{children:l.isPlaceholder?null:x(l.column.columnDef.header,l.getContext())},l.id))},s.id))}),e.jsx(A,{children:(d=t.getRowModel().rows)!=null&&d.length?t.getRowModel().rows.map(s=>e.jsx(n,{"data-state":s.getIsSelected()&&"selected",className:"cursor-pointer",onClick:()=>R.visit(route("users.showReseller",s.original.id)),children:s.getVisibleCells().map(l=>e.jsx(u,{children:x(l.column.columnDef.cell,l.getContext())},l.id))},s.id)):e.jsx(n,{children:e.jsx(u,{colSpan:i.length,className:"h-24 text-center",children:e.jsx(y,{data:"resellers",fallback:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(H,{className:"animate-spin text-indigo-700",size:32})}),children:"No results"})})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[t.getFilteredSelectedRowModel().rows.length," of"," ",t.getFilteredRowModel().rows.length," row(s) selected."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"Previous"}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:"Next"})]})]})]})})}function Se({managers:o,resellers:i}){return e.jsxs(U,{children:[e.jsx(L,{title:"User Management"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage your users"})]}),e.jsxs(B,{defaultValue:"manager",className:"w-full",children:[e.jsxs(_,{className:"grid w-full grid-cols-2",children:[e.jsx(w,{value:"manager",children:"Managers"}),e.jsx(w,{value:"reseller",children:"Resellers"})]}),e.jsx(N,{value:"manager",children:e.jsx(q,{managers:o})}),e.jsx(N,{value:"reseller",children:e.jsx(G,{resellers:i})})]})]})]})}export{Se as default};
